erDiagram
    USER {
        int id PK "User ID"
        varchar name "User's full name"
        varchar email "User's email address (unique)"
        varchar password_hash "Hashed password"
        datetime created_at "Timestamp of creation"
        datetime updated_at "Timestamp of last update"
    }

    LOCATION {
        int id PK "Location ID"
        varchar name "City name (e.g., London)"
        decimal latitude "Latitude coordinate"
        decimal longitude "Longitude coordinate"
        varchar country "Country code (e.g., GB)"
    }

    USER_SAVED_LOCATION {
        int user_id FK "Foreign key to USER"
        int location_id FK "Foreign key to LOCATION"
    }

    WEATHER_DATA {
        int location_id FK "Foreign key to LOCATION"
        json data "Cached weather data from external API"
        datetime last_fetched_at "Timestamp of when the data was fetched"
    }

    USER ||--o{ USER_SAVED_LOCATION : "saves"
    LOCATION ||--o{ USER_SAVED_LOCATION : "is saved in"

    LOCATION ||--|| WEATHER_DATA : "has_cached_data"